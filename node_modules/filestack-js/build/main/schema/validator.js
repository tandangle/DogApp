"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/*
 * Copyright (c) 2018 by Filestack.
 * Some rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jsonschema_1 = require("jsonschema");
var definitions_schema_1 = require("./definitions.schema");
var v = new jsonschema_1.Validator();
jsonschema_1.Validator.prototype.customFormats.callback = function (input) { return typeof input === 'function'; };
// check if element have HTML in to string method ie HTMLDivElement
jsonschema_1.Validator.prototype.customFormats.HTMLContainer = function (input) { return typeof input === 'string' || (input.toString && input.toString().indexOf('HTML') > -1); };
/**
 * Returns validator instance
 */
exports.getValidator = function (schema) {
    return function (params) {
        v.addSchema(definitions_schema_1.DefinitionsSchema);
        return v.validate(params, schema);
    };
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY2hlbWEvdmFsaWRhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7Ozs7Ozs7OztHQWVHO0FBQ0gseUNBQXVDO0FBQ3ZDLDJEQUF5RDtBQUV6RCxJQUFNLENBQUMsR0FBRyxJQUFJLHNCQUFTLEVBQUUsQ0FBQztBQUUxQixzQkFBUyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsUUFBUSxHQUFHLFVBQUMsS0FBSyxJQUFLLE9BQUEsT0FBTyxLQUFLLEtBQUssVUFBVSxFQUEzQixDQUEyQixDQUFDO0FBQ3BGLG1FQUFtRTtBQUNuRSxzQkFBUyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsYUFBYSxHQUFHLFVBQUMsS0FBSyxJQUFLLE9BQUEsT0FBTyxLQUFLLEtBQUssUUFBUSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQXRGLENBQXNGLENBQUM7QUFFcEo7O0dBRUc7QUFDVSxRQUFBLFlBQVksR0FBRyxVQUFDLE1BQU07SUFDakMsT0FBTyxVQUFDLE1BQU07UUFDWixDQUFDLENBQUMsU0FBUyxDQUFDLHNDQUFpQixDQUFDLENBQUM7UUFDL0IsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNwQyxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJmaWxlIjoic2NoZW1hL3ZhbGlkYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggYnkgRmlsZXN0YWNrLlxuICogU29tZSByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBWYWxpZGF0b3IgfSBmcm9tICdqc29uc2NoZW1hJztcbmltcG9ydCB7IERlZmluaXRpb25zU2NoZW1hIH0gZnJvbSAnLi9kZWZpbml0aW9ucy5zY2hlbWEnO1xuXG5jb25zdCB2ID0gbmV3IFZhbGlkYXRvcigpO1xuXG5WYWxpZGF0b3IucHJvdG90eXBlLmN1c3RvbUZvcm1hdHMuY2FsbGJhY2sgPSAoaW5wdXQpID0+IHR5cGVvZiBpbnB1dCA9PT0gJ2Z1bmN0aW9uJztcbi8vIGNoZWNrIGlmIGVsZW1lbnQgaGF2ZSBIVE1MIGluIHRvIHN0cmluZyBtZXRob2QgaWUgSFRNTERpdkVsZW1lbnRcblZhbGlkYXRvci5wcm90b3R5cGUuY3VzdG9tRm9ybWF0cy5IVE1MQ29udGFpbmVyID0gKGlucHV0KSA9PiB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IChpbnB1dC50b1N0cmluZyAmJiBpbnB1dC50b1N0cmluZygpLmluZGV4T2YoJ0hUTUwnKSA+IC0xKTtcblxuLyoqXG4gKiBSZXR1cm5zIHZhbGlkYXRvciBpbnN0YW5jZVxuICovXG5leHBvcnQgY29uc3QgZ2V0VmFsaWRhdG9yID0gKHNjaGVtYSkgPT4ge1xuICByZXR1cm4gKHBhcmFtcykgPT4ge1xuICAgIHYuYWRkU2NoZW1hKERlZmluaXRpb25zU2NoZW1hKTtcbiAgICByZXR1cm4gdi52YWxpZGF0ZShwYXJhbXMsIHNjaGVtYSk7XG4gIH07XG59O1xuIl19
